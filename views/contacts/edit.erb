<h2>Edit Contact: <%= @contact.first_name %> <%= @contact.last_name %></h2>

<form action="/contacts/<%= @contact.id %>" method="post">
  <input type="hidden" name="_method" value="put">

  <div>
    <label for="first_name">First Name:</label>
    <input type="text" id="first_name" name="contact[first_name]" value="<%= @contact.first_name %>" 
           aria-invalid="<%= @contact&.errors&.on(:first_name) ? 'true' : 'false' %>" required>
    <% if @contact&.errors&.on(:first_name) %>
      <small><%= @contact.errors.on(:first_name).join(', ') %></small>
    <% end %>
  </div>

  <div>
    <label for="last_name">Last Name:</label>
    <input type="text" id="last_name" name="contact[last_name]" value="<%= @contact.last_name %>" 
           aria-invalid="<%= @contact&.errors&.on(:last_name) ? 'true' : 'false' %>" required>
    <% if @contact&.errors&.on(:last_name) %>
      <small><%= @contact.errors.on(:last_name).join(', ') %></small>
    <% end %>
  </div>

  <div>
    <label for="email">Email:</label>
    <input type="email" id="email" name="contact[email]" value="<%= @contact.email %>" 
           aria-invalid="<%= @contact&.errors&.on(:email) ? 'true' : 'false' %>" required>
    <% if @contact&.errors&.on(:email) %>
      <small><%= @contact.errors.on(:email).join(', ') %></small>
    <% end %>
  </div>

  <div>
    <label for="phone">Phone:</label>
    <input type="tel" id="phone" name="contact[phone]" value="<%= @contact.phone %>" 
           aria-invalid="<%= @contact&.errors&.on(:phone) ? 'true' : 'false' %>" required>
    <% if @contact&.errors&.on(:phone) %>
      <small><%= @contact.errors.on(:phone).join(', ') %></small>
    <% end %>
  </div>

  <div>
    <button type="submit" class="contrast">Update Contact</button>
    <a href="/contacts/<%= @contact.id %>" role="button" class="secondary outline">Cancel</a>
  </div>

</form>

<hr style="margin-top: 20px; margin-bottom: 10px;">

<!-- Delete Button Form -->
<form action="/contacts/<%= @contact.id %>" method="post" style="display: inline;" onsubmit="return confirm('Are you sure you want to delete this contact? This will also remove their customer record if they are one.');">
  <input type="hidden" name="_method" value="delete">
  <button type="submit" class="secondary outline">Delete Contact</button>
</form>
